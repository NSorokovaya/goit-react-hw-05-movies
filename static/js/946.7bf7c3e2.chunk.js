"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[946],{946:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(6),a=n(791),i=n(689),s=n(87),c={cardContainer:"DetailedMovie_cardContainer__V+Hrx",goBackBtn:"DetailedMovie_goBackBtn__BmrjU",card:"DetailedMovie_card__nUq85",cardInfo:"DetailedMovie_cardInfo__WOSGy",movieTitle:"DetailedMovie_movieTitle__ZLXfg",score:"DetailedMovie_score__HFRUJ",overviewTitle:"DetailedMovie_overviewTitle__+nu8H",genresTitle:"DetailedMovie_genresTitle__QuYIx",genresText:"DetailedMovie_genresText__0rAwG",addInfo:"DetailedMovie_addInfo__WSDVP",addTitle:"DetailedMovie_addTitle__P-yJZ",addList:"DetailedMovie_addList__NxFOd",addLink:"DetailedMovie_addLink__jSMiJ"},o=n(184),u=function(){return(0,o.jsxs)("div",{className:c.addInfo,children:[(0,o.jsx)("h2",{className:c.addTitle,children:"Aditional information"}),(0,o.jsxs)("ul",{className:c.addList,children:[(0,o.jsx)("li",{children:(0,o.jsx)(s.OL,{to:"cast",className:c.addLink,children:"Cast"})}),(0,o.jsx)("li",{children:(0,o.jsx)(s.OL,{to:"reviews",className:c.addLink,children:"Reviews"})})]})]})},d=n(439),l=n(234),v=function(e){var t,n=e.movie;return(0,o.jsxs)("div",{className:c.card,children:[(0,o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),alt:n.original_title,width:"250",className:c.cardImage}),(0,o.jsxs)("div",{className:c.cardInfo,children:[(0,o.jsxs)("h1",{className:c.movieTitle,children:[n.title," ",n.release_date&&(0,o.jsxs)("span",{children:["(",n.release_date.substring(0,4),")"]})]}),(0,o.jsxs)("p",{className:c.score,children:["User score: ",Math.round(10*n.vote_average),"%"]}),(0,o.jsx)("h2",{className:c.overviewTitle,children:"Overview"}),(0,o.jsx)("p",{className:c.overviewText,children:n.overview}),(0,o.jsx)("h2",{className:c.genresTitle,children:"Genres"}),(0,o.jsx)("p",{className:c.genresText,children:(null===(t=n.genres)||void 0===t?void 0:t.length)>0?n.genres.map((function(e){return e.name})).join(", "):"There is no information about genres"})]})]})},f=function(){var e,t,n=(0,i.UO)().movieId,r=(0,a.useState)({}),u=(0,d.Z)(r,2),f=u[0],p=u[1],h=(0,i.TH)(),m=(0,a.useRef)(null!==(e=null===(t=h.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");return(0,a.useEffect)((function(){try{(0,l.TP)(n).then((function(e){return p(e)}))}catch(e){console.log(e)}}),[n]),(0,o.jsxs)("div",{className:c.cardContainer,children:[(0,o.jsx)(s.rU,{to:m.current,children:(0,o.jsx)("button",{type:"button",className:c.goBackBtn,children:"Go back"})}),(0,o.jsx)(v,{movie:f})]})},p=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f,{}),(0,o.jsx)(u,{}),(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(r.a,{}),children:(0,o.jsx)(i.j3,{})})]})}},234:function(e,t,n){n.d(t,{Hg:function(){return o},TP:function(){return d},tx:function(){return v},z1:function(){return u},zv:function(){return l}});var r=n(861),a=n(757),i=n.n(a),s=n(243);s.Z.defaults.baseURL="https://api.themoviedb.org/3";var c="?api_key=8342d698457bbb39c567b3c209d2c795",o=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/trending/movie/day".concat(c));case 2:return t=e.sent,e.abrupt("return",t.data.results.map((function(e){return{id:e.id,title:e.title}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/search/movie".concat(c,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return n=e.sent,e.abrupt("return",n.data.results.map((function(e){return{id:e.id,title:e.title}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(t).concat(c,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(t,"/credits").concat(c,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(t,"/reviews").concat(c,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=946.7bf7c3e2.chunk.js.map